<!DOCTYPE html>
<html lang="en" class="shortcut">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="A JavaScript one-liner to convert an image to sepia tones">
<meta property="og:url" content="/shortcut/10467/" />
<meta property="og:type" content="website" />
<meta property="og:title" content="RoutineHub - Convert Image to Sepia [JS1]" />
<meta property="og:description" content="A JavaScript one-liner to convert an image to sepia tones" />
<meta property="og:image" content="https://s3.us-west-002.backblazeb2.com/routinehub/media/shortcuts/icons/1d706ab67cb949f29851882ed27eb672.webp" />
<meta name="twitter:card" content="summary" />
<title>RoutineHub • Convert Image to Sepia [JS1]</title>
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,700;1,400;1,700&family=Roboto+Mono&display=swap" rel="stylesheet">
<link href="https://s3.us-west-002.backblazeb2.com/routinehub/static/main/vendors/shortcut-icons/ios12-glyphs.png">
<link href="https://s3.us-west-002.backblazeb2.com/routinehub/static/main/vendors/shortcut-icons/ios13-glyphs.png">
<link href="https://s3.us-west-002.backblazeb2.com/routinehub/static/main/vendors/shortcut-icons/ios14-glyphs.png">
<link href="https://s3.us-west-002.backblazeb2.com/routinehub/static/main/vendors/shortcut-icons/ios15-glyphs.png">
<link rel="stylesheet" type="text/css" href="https://s3.us-west-002.backblazeb2.com/routinehub/static/main/main.37.css" />
<link rel="stylesheet" type="text/css" href="https://s3.us-west-002.backblazeb2.com/routinehub/static/main/vendors/fancybox/jquery.fancybox.min.css" />
</head>
<body>
<div class="message pop-up">
<div class="message-header">
<p class="message-title"></p>
<button class="delete" aria-label="delete"></button>
</div>
<div class="message-body"></div>
</div>
<section id="content" class="section">
<div class="container">
<article class="media shortcut-header">
<figure class="media-left">
<div class="shortcut-icon s64 
								ios14 
								c255 
								g59784">
</div>
</figure>
<div class="media-content">
<div class="content">
<div class="titles">
<h3 class="title is-3">Convert Image to Sepia [JS1]</h3>
<h4 class="subtitle is-4">A JavaScript one-liner to convert an image to sepia tones</h4>
</div>
</div>
</article>
<hr>
<div class="columns">
<div class="column sidebar is-2">
<div class="actions">
<a href="https://www.icloud.com/shortcuts/1d706ab67cb949f29851882ed27eb672" class="button is-dark is-fullwidth">Get Shortcut</a>
</div>
<br>
<div class="heart has-text-centered" data-id="10467">
<span class="heart-icon ">
♥️
</span>
<span class="heart-count">3</span>
</div>
<br>
<br>
<p class="is-size-5"><strong>Information</strong></p>
<div class="information">
<p>Author:
<a href="https://routinehub.co/user/atnbueno"><strong>@atnbueno</strong></a>
<a href="/membership/">
<span class="tag is-primary">Member</span>
</a>
<p>Version: 1.0.0</p>
<p>iOS: 14</p>
<p>Updated: 11/08/21</p>
<p>Downloads: 104</p>
<p>Categories:</p>
<ul class="fa-ul">
<li>
<a href="https://routinehub.co/category/snippets/">
<span class="fa-li">
<i class="fas fa-code"></i>
</span>
Snippets
</a>
</li>
</ul>
</div>
<hr>
<div class="qr-code has-text-centered is-hidden-mobile">
<img src="https://api.qrserver.com/v1/create-qr-code/?data=https://routinehub.cohttps://www.icloud.com/shortcuts/1d706ab67cb949f29851882ed27eb672" alt="QR Code for downloading Convert Image to Sepia [JS1]" />
<p class="is-size-7"><em>Scan using your iPhone's camera to download</em></p>
</div>
</div>
<div class="column is-10 details">
<div class="description">
<h4 class="title is-4">Description</h4>
<div class="content">
<p><img alt="iOS 15: Works (iOS 15.2 beta 1)" src="https://atnbueno.com/ios15_ok.png">
<strong>iOS 15:</strong> Works (iOS 15.2 beta 1)</p>
<p>A single line of JavaScript to apply an "old photo" filter to images. The result can be used <em>as is</em> or combined with the original image to get a gradually aged version. As the example shows, the conversion supports images with alpha channel (transparency):</p>
<p><img alt="Example of sepia conversion" src="https://atnbueno.com/JS1/sepia.png"></p>
<p>The shortcut converts silently any images received as input, giving them the same name/s.</p>
<p>When run without input, the shortcut works as a demo, allowing the user to select one or more files and showing the result of the conversion.</p>
<ul>
<li>No error checking</li>
<li><a href="https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation"><code>globalCompositeOperation</code> documentation at MDN</a></li>
</ul>
<h3>Don't download the shortcut</h3>
<p>If you just want the code, there's no need to download the shortcut. Copy this and paste it in a "URL" action:</p>
<pre><code>data:text/html,&lt;script&gt;with(document){let i=createElement(&quot;img&quot;);i.src=&quot;data:image/png;base64,REPLACEWITHBASE64IMAGE&quot;,i.onload=()=&gt;{with(createElement(&quot;canvas&quot;)){height=i.height,width=i.width;with(getContext(&quot;2d&quot;)){drawImage(i,0,0),globalCompositeOperation=&quot;color&quot;,fillStyle='#704214',fillRect(0,0,width,height),globalCompositeOperation=&quot;destination-in&quot;,drawImage(i,0,0)}write(toDataURL(&quot;image/png&quot;).slice(22))}}}&lt;/script&gt;
</code></pre>
<p>Replace the <code>REPLACETHISWITHBASE64IMAGE</code> fragment with the base64-encoded image, add a "Get File of Type" with type <code>com.apple.webarchive</code> below, and decode the base64 output to get the sepia-toned image.</p>
<p>I use "Get File of Type" instead of "Get Contents of Webpage" to avoid that the user is misleading told that the shortcut uses Safari.</p>
</div>
</div>
<hr>
<div class="latest-release">
<h4 class="title is-4">Latest Release Notes</h4>
<p><strong>1.0.0 - Nov. 8, 2021, 9:14 p.m.</strong></p>
<p>First public version</p>
<br>
</div>
<hr>
<div class="feedback">
<h4 class="title is-4">Feedback</h4>
<br>
<p>No feedback yet</p>
</div>
</div>
</div>
</div>
</section>
</body>
</html>
